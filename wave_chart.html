<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>黄金波浪点位图</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { height: 100%; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; overflow: hidden; background: #1a1d23; color: #e0e0e0; }
  body { display: flex; flex-direction: column; }
  #header { flex-shrink: 0; padding: 12px 24px; background: linear-gradient(135deg, #1e222d 0%, #252a37 100%); border-bottom: 1px solid #2a2e3a; display: flex; align-items: center; justify-content: space-between; }
  #header .title-area { display: flex; align-items: center; gap: 16px; }
  #header h2 { font-size: 16px; font-weight: 600; color: #e8e8e8; letter-spacing: 0.5px; }
  #header .badge { background: #2962ff; color: #fff; font-size: 11px; padding: 2px 8px; border-radius: 10px; font-weight: 500; }
  #header .info { font-size: 12px; color: #848e9c; }
  #controls { flex-shrink: 0; padding: 8px 24px; background: #1e222d; border-bottom: 1px solid #2a2e3a; display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
  .ctrl-group { display: flex; align-items: center; gap: 4px; margin-right: 12px; }
  .ctrl-group .ctrl-label { font-size: 11px; color: #848e9c; margin-right: 4px; white-space: nowrap; }
  .ctrl-btn { font-size: 11px; padding: 3px 10px; border: 1px solid #2a2e3a; border-radius: 4px; background: #252a37; color: #848e9c; cursor: pointer; transition: all 0.2s; white-space: nowrap; }
  .ctrl-btn:hover { border-color: #4a5568; color: #e0e0e0; }
  .ctrl-btn.active { border-color: #2962ff; color: #2962ff; background: rgba(41,98,255,0.08); }
  .ctrl-btn.retrace-color { border-color: #ef5350; }
  .ctrl-btn.retrace-color.active { border-color: #ef5350; color: #ef5350; background: rgba(239,83,80,0.08); }
  .ctrl-btn.bounce-color { border-color: #26a69a; }
  .ctrl-btn.bounce-color.active { border-color: #26a69a; color: #26a69a; background: rgba(38,166,154,0.08); }
  #chart-wrap { flex: 1; min-height: 0; padding: 0; background: #131722; }
  #chart-wrap svg { width: 100%; height: 100%; display: block; }
  #tooltip { position: fixed; background: rgba(30,34,45,0.96); color: #e0e0e0; padding: 10px 14px; border-radius: 6px; font-size: 12px; pointer-events: none; display: none; z-index: 100; box-shadow: 0 4px 16px rgba(0,0,0,0.5); border: 1px solid #2a2e3a; line-height: 1.7; max-width: 320px; }
  #tooltip .tt-title { color: #2962ff; font-weight: 600; font-size: 13px; margin-bottom: 4px; }
  #tooltip .tt-up { color: #26a69a; }
  #tooltip .tt-down { color: #ef5350; }
  #tooltip .tt-label { color: #848e9c; }
  #tooltip .tt-divider { border-top: 1px solid #2a2e3a; margin: 4px 0; }
  #data-panel { flex-shrink: 0; padding: 8px 24px; background: #1e222d; border-top: 1px solid #2a2e3a; display: flex; gap: 24px; flex-wrap: wrap; font-size: 12px; }
  .dp-item { display: flex; align-items: center; gap: 4px; }
  .dp-item .dp-label { color: #848e9c; }
  .dp-item .dp-value { color: #e8e8e8; font-weight: 500; font-variant-numeric: tabular-nums; }
  .dp-item .dp-up { color: #26a69a; }
  .dp-item .dp-down { color: #ef5350; }
  .point:hover circle { filter: brightness(1.3); }
</style>
</head>
<body>
<div id="header">
  <div class="title-area">
    <h2>黄金1小时K线 - 艾略特波浪点位</h2>
    <span class="badge">XAUUSD H1</span>
  </div>
  <div class="info">数据范围: 2026/2/4 08:00:00 ~ 2026/2/10 16:41:25</div>
</div>
<div id="controls">
  <div class="ctrl-group">
    <span class="ctrl-label">回撤位:</span>
    <button class="ctrl-btn retrace-color active" data-layer="retrace-382" onclick="toggleLayer(this)">0.382</button>
    <button class="ctrl-btn retrace-color active" data-layer="retrace-5" onclick="toggleLayer(this)">0.5</button>
    <button class="ctrl-btn retrace-color active" data-layer="retrace-618" onclick="toggleLayer(this)">0.618</button>
  </div>
  <div class="ctrl-group">
    <span class="ctrl-label">反弹位:</span>
    <button class="ctrl-btn bounce-color active" data-layer="bounce-382" onclick="toggleLayer(this)">0.382</button>
    <button class="ctrl-btn bounce-color active" data-layer="bounce-5" onclick="toggleLayer(this)">0.5</button>
    <button class="ctrl-btn bounce-color active" data-layer="bounce-618" onclick="toggleLayer(this)">0.618</button>
  </div>
  <div class="ctrl-group">
    <span class="ctrl-label">其他:</span>
    <button class="ctrl-btn active" data-layer="channel-line" onclick="toggleLayer(this)">通道线</button>
    <button class="ctrl-btn active" data-layer="wave-line" onclick="toggleLayer(this)">波浪连线</button>
    <button class="ctrl-btn active" data-layer="wave-points" onclick="toggleLayer(this)">波浪点位</button>
  </div>
</div>
<div id="tooltip"></div>
<div id="chart-wrap">
<svg viewBox="0 0 1200 460" preserveAspectRatio="xMidYMid meet">
  <rect x="70" y="30" width="1090" height="315" fill="#131722"/>
  <line x1="70" y1="345" x2="1160" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="62" y="349" font-size="10" fill="#4a5568" text-anchor="end">4655</text>
<line x1="70" y1="282.0000000000001" x2="1160" y2="282.0000000000001" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="62" y="286.0000000000001" font-size="10" fill="#4a5568" text-anchor="end">4742</text>
<line x1="70" y1="219.00000000000026" x2="1160" y2="219.00000000000026" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="62" y="223.00000000000026" font-size="10" fill="#4a5568" text-anchor="end">4830</text>
<line x1="70" y1="155.99999999999972" x2="1160" y2="155.99999999999972" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="62" y="159.99999999999972" font-size="10" fill="#4a5568" text-anchor="end">4917</text>
<line x1="70" y1="92.99999999999989" x2="1160" y2="92.99999999999989" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="62" y="96.99999999999989" font-size="10" fill="#4a5568" text-anchor="end">5005</text>
<line x1="70" y1="30" x2="1160" y2="30" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="62" y="34" font-size="10" fill="#4a5568" text-anchor="end">5092</text>
  <line x1="70" y1="30" x2="70" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="70" y="362" font-size="10" fill="#4a5568" text-anchor="middle">02/04 08:00</text>
<line x1="292.44897959183675" y1="30" x2="292.44897959183675" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="292.44897959183675" y="362" font-size="10" fill="#4a5568" text-anchor="middle">02/05 04:00</text>
<line x1="503.7755102040816" y1="30" x2="503.7755102040816" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="503.7755102040816" y="362" font-size="10" fill="#4a5568" text-anchor="middle">02/06 00:00</text>
<line x1="726.2244897959183" y1="30" x2="726.2244897959183" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="726.2244897959183" y="362" font-size="10" fill="#4a5568" text-anchor="middle">02/06 21:00</text>
<line x1="937.5510204081633" y1="30" x2="937.5510204081633" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="937.5510204081633" y="362" font-size="10" fill="#4a5568" text-anchor="middle">02/09 14:13</text>
<line x1="1160" y1="30" x2="1160" y2="345" stroke="#1e222d" stroke-dasharray="2,4"/>
<text x="1160" y="362" font-size="10" fill="#4a5568" text-anchor="middle">02/10 16:41</text>
  <line x1="70" y1="30" x2="70" y2="345" stroke="#2a2e3a" stroke-width="1"/>
  <line x1="70" y1="345" x2="1160" y2="345" stroke="#2a2e3a" stroke-width="1"/>
  <g id="retrace-382">
  <line x1="70" y1="135.6011599199906" x2="1160" y2="135.6011599199906" stroke="#ef5350" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <rect x="1162" y="127.60115991999061" width="56" height="16" rx="3" fill="rgba(239,83,80,0.15)" stroke="#ef5350" stroke-width="0.5"/>
  <text x="1190" y="139.6011599199906" font-size="9" fill="#ef5350" text-anchor="middle">R 0.382</text>
</g>
<g id="retrace-5">
  <line x1="70" y1="115.43783165047807" x2="1160" y2="115.43783165047807" stroke="#ef5350" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <rect x="1162" y="107.43783165047807" width="56" height="16" rx="3" fill="rgba(239,83,80,0.15)" stroke="#ef5350" stroke-width="0.5"/>
  <text x="1190" y="119.43783165047807" font-size="9" fill="#ef5350" text-anchor="middle">R 0.5</text>
</g>
<g id="retrace-618">
  <line x1="70" y1="95.27450338096554" x2="1160" y2="95.27450338096554" stroke="#ef5350" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <rect x="1162" y="87.27450338096554" width="56" height="16" rx="3" fill="rgba(239,83,80,0.15)" stroke="#ef5350" stroke-width="0.5"/>
  <text x="1190" y="99.27450338096554" font-size="9" fill="#ef5350" text-anchor="middle">R 0.618</text>
</g>
  <g id="bounce-382">
  <line x1="70" y1="224.6699999999999" x2="1160" y2="224.6699999999999" stroke="#26a69a" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <rect x="1162" y="216.6699999999999" width="56" height="16" rx="3" fill="rgba(38,166,154,0.15)" stroke="#26a69a" stroke-width="0.5"/>
  <text x="1190" y="228.6699999999999" font-size="9" fill="#26a69a" text-anchor="middle">B 0.382</text>
</g>
<g id="bounce-5">
  <line x1="70" y1="187.5" x2="1160" y2="187.5" stroke="#26a69a" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <rect x="1162" y="179.5" width="56" height="16" rx="3" fill="rgba(38,166,154,0.15)" stroke="#26a69a" stroke-width="0.5"/>
  <text x="1190" y="191.5" font-size="9" fill="#26a69a" text-anchor="middle">B 0.5</text>
</g>
<g id="bounce-618">
  <line x1="70" y1="150.3300000000001" x2="1160" y2="150.3300000000001" stroke="#26a69a" stroke-width="1" stroke-dasharray="6,3" opacity="0.5"/>
  <rect x="1162" y="142.3300000000001" width="56" height="16" rx="3" fill="rgba(38,166,154,0.15)" stroke="#26a69a" stroke-width="0.5"/>
  <text x="1190" y="154.3300000000001" font-size="9" fill="#26a69a" text-anchor="middle">B 0.618</text>
</g>
  <path d="M 70 85.13655014298502 L 81.12244897959184 62.97258170014891 L 92.24489795918367 67.27865783828071 L 103.36734693877551 46.23067581354127 L 114.48979591836735 38.78514071914435 L 125.61224489795919 39.2387079779171 L 136.73469387755102 41.25479686303578 L 147.85714285714283 35.42241415875469 L 158.9795918367347 36.243054454859816 L 170.10204081632654 53.30175421755604 L 181.22448979591837 60.754672965002726 L 192.3469387755102 62.15158980151756 L 203.46938775510205 66.91158480094833 L 214.59183673469389 57.75937104447155 L 225.7142857142857 106.6310673759736 L 236.83673469387756 153.20609600646503 L 247.95918367346937 165.33954758242567 L 259.0816326530612 169.6382400675077 L 270.2040816326531 148.76324648564903 L 281.3265306122449 138.3290899187184 L 292.44897959183675 140.74881850389218 L 303.57142857142856 122.17049262304414 L 314.6938775510204 87.60655788940255 L 325.8163265306123 91.20696775749025 L 336.9387755102041 126.0374172059766 L 348.0612244897959 232.86164831264273 L 359.18367346938777 182.38383164154848 L 370.3061224489796 194.37312618177515 L 381.4285714285714 171.17228188923295 L 392.55102040816325 153.55172128970037 L 403.6734693877551 157.6201141201342 L 414.795918367347 159.38445559650765 L 425.91836734693874 200.71709056164877 L 437.0408163265306 185.3432701044092 L 448.16326530612247 191.24808292908344 L 459.2857142857143 201.4586202893633 L 470.40816326530614 214.93870954059503 L 481.53061224489795 206.52099346130922 L 492.65306122448976 227.28804506763046 L 503.7755102040816 176.53668163116785 L 514.8979591836735 190.58566376975952 L 526.0204081632653 198.65775456580994 L 537.1428571428571 219.30948054354403 L 548.2653061224489 231.78152535221642 L 559.3877551020408 254.4855552752657 L 570.5102040816327 310.42868161330864 L 581.6326530612246 266.94318438036476 L 592.7551020408163 259.51171338701505 L 603.8775510204082 228.46169430002075 L 615 222.9028583611081 L 626.1224489795918 230.34136140498137 L 637.2448979591837 170.08477527575684 L 648.3673469387755 206.94572931293519 L 659.4897959183673 211.23738974749358 L 670.6122448979592 195.82067378206 L 681.734693877551 192.68086322326872 L 692.8571428571428 183.94635326789432 L 703.9795918367347 177.23531585068835 L 715.1020408163265 168.18366041669924 L 726.2244897959183 147.66132416859955 L 737.3469387755102 133.87920834737884 L 748.469387755102 137.19130414399854 L 759.591836734694 131.11385447896973 L 770.7142857142858 124.90701508430647 L 781.8367346938775 123.54596170546199 L 792.9591836734694 127.01663024138907 L 804.0816326530612 130.20671996142417 L 815.204081632653 120.79502354062626 L 826.3265306122449 121.04720693650401 L 837.4489795918367 121.04720693650401 L 848.5714285714286 102.15945676851581 L 859.6938775510205 94.21983292740899 L 870.8163265306123 85.2087271095591 L 881.9387755102041 80.19695657318107 L 893.0612244897959 83.45172709393262 L 904.1836734693877 84.37343202016285 L 915.3061224489795 84.79035948288788 L 926.4285714285714 69.3208384436623 L 937.5510204081633 70.36063681356569 L 948.6734693877551 74.28400344682109 L 959.795918367347 89.16917796445554 L 970.9183673469388 92.58236651940314 L 982.0408163265306 77.755878682618 L 993.1632653061225 42.49173623783042 L 1004.2857142857142 59.68182114481772 L 1015.408163265306 76.60770797568478 L 1026.5306122448978 64.79440315750247 L 1037.6530612244896 60.477943774849166 L 1048.7755102040817 78.40395245887356 L 1059.8979591836735 79.52440000982278 L 1071.0204081632653 78.41216139337303 L 1082.1428571428573 74.41469832503248 L 1093.2653061224491 77.46784589317065 L 1104.387755102041 68.48122286242415 L 1115.5102040816325 73.26256716724481 L 1126.6326530612243 75.15638275785835 L 1137.7551020408164 77.88930987232942 L 1148.8775510204082 70.92230075298784 L 1160 64.16073102071897" fill="none" stroke="#2962ff" stroke-width="1.5" opacity="0.9"/>
  <g id="wave-line">
    <path d="M 158.9795918367347 30 L 247.95918367346937 200.87566330095615 L 314.6938775510204 79.32561519280097 L 359.18367346938777 247.68099158609573 L 414.795918367347 137.03308300721733 L 581.6326530612246 345 L 648.3673469387755 166.21081864230078 L 804.0816326530612 141.9583311939529 L 881.9387755102041 80.19695657318107 L 993.1632653061225 42.49173623783042" fill="none" stroke="#848e9c" stroke-width="1.2"/>
    <path d="M 993.1632653061225 42.49173623783042 L 1072.8000000000002 80.48797551106895 L 1116.3999999999999 92.22503371589164 L 1160 103.9620919207143" fill="none" stroke="#ff9800" stroke-width="1.2" stroke-dasharray="8,4" opacity="0.9"/>
  </g>
  <g id="channel-line"><line x1="314.6938775510204" y1="79.32561519280097" x2="1160" y2="365" stroke="#ab47bc" stroke-width="1.2" stroke-dasharray="8,4" opacity="0.7"/><line x1="581.6326530612246" y1="345" x2="1160" y2="10" stroke="#42a5f5" stroke-width="1.2" stroke-dasharray="8,4" opacity="0.7"/></g>
  <line id="crosshair-v" x1="70" y1="30" x2="70" y2="345" stroke="#4a5568" stroke-width="1" stroke-dasharray="4,4" style="display:none; pointer-events:none"/>
  <line id="crosshair-h" x1="70" y1="30" x2="1160" y2="30" stroke="#4a5568" stroke-width="1" stroke-dasharray="4,4" style="display:none; pointer-events:none"/>
  <g id="crosshair-price-tag" style="display:none; pointer-events:none">
    <rect id="crosshair-price-bg" x="0" y="0" width="52" height="18" rx="3" fill="rgba(41,98,255,0.9)"/>
    <text id="crosshair-price-text" x="0" y="0" font-size="10" fill="#fff" text-anchor="end" dominant-baseline="middle"></text>
  </g>
  <rect id="chart-overlay" x="70" y="30" width="1090" height="315" fill="transparent" style="cursor:crosshair"/>
  <g id="wave-points"><g class="point" data-index="0">
  <circle cx="158.9795918367347" cy="30" r="3" fill="#ff9800" stroke="#ff9800" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="158.9795918367347" y="20" font-size="10" fill="#ff9800" text-anchor="middle" font-weight="500">起点 5092</text>
</g>
<g class="point" data-index="1">
  <circle cx="247.95918367346937" cy="200.87566330095615" r="3.5" fill="#ef5350" stroke="#ef5350" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="247.95918367346937" y="216.87566330095615" font-size="10" fill="#ef5350" text-anchor="middle" font-weight="500">浪1 4855</text>
</g>
<g class="point" data-index="2">
  <circle cx="314.6938775510204" cy="79.32561519280097" r="3.5" fill="#26a69a" stroke="#26a69a" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="314.6938775510204" y="69.32561519280097" font-size="10" fill="#26a69a" text-anchor="middle" font-weight="500">浪2 5024</text>
</g>
<g class="point" data-index="3">
  <circle cx="359.18367346938777" cy="247.68099158609573" r="3.5" fill="#ef5350" stroke="#ef5350" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="359.18367346938777" y="263.68099158609573" font-size="10" fill="#ef5350" text-anchor="middle" font-weight="500">浪3 4790</text>
</g>
<g class="point" data-index="4">
  <circle cx="414.795918367347" cy="137.03308300721733" r="3.5" fill="#26a69a" stroke="#26a69a" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="414.795918367347" y="127.03308300721733" font-size="10" fill="#26a69a" text-anchor="middle" font-weight="500">浪4 4944</text>
</g>
<g class="point" data-index="5">
  <circle cx="581.6326530612246" cy="345" r="3.5" fill="#ef5350" stroke="#ef5350" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="581.6326530612246" y="361" font-size="10" fill="#ef5350" text-anchor="middle" font-weight="500">浪5 4655</text>
</g>
<g class="point" data-index="6">
  <circle cx="648.3673469387755" cy="166.21081864230078" r="3.5" fill="#42a5f5" stroke="#42a5f5" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="648.3673469387755" y="156.21081864230078" font-size="10" fill="#42a5f5" text-anchor="middle" font-weight="500">浪a 4903</text>
</g>
<g class="point" data-index="7">
  <circle cx="804.0816326530612" cy="141.9583311939529" r="3.5" fill="#42a5f5" stroke="#42a5f5" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="804.0816326530612" y="131.9583311939529" font-size="10" fill="#42a5f5" text-anchor="middle" font-weight="500">浪b 4937</text>
</g>
<g class="point" data-index="8">
  <circle cx="881.9387755102041" cy="80.19695657318107" r="3.5" fill="#42a5f5" stroke="#42a5f5" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="881.9387755102041" y="70.19695657318107" font-size="10" fill="#42a5f5" text-anchor="middle" font-weight="500">浪Y 5023</text>
</g>
<g class="point" data-index="9">
  <circle cx="993.1632653061225" cy="42.49173623783042" r="3.5" fill="#42a5f5" stroke="#42a5f5" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="993.1632653061225" y="32.49173623783042" font-size="10" fill="#42a5f5" text-anchor="middle" font-weight="500">浪c 5075</text>
</g>
<g class="point" data-index="10">
  <circle cx="1072.8000000000002" cy="80.48797551106895" r="3.5" fill="#ff9800" stroke="#ff9800" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="1072.8000000000002" y="96.48797551106895" font-size="10" fill="#ff9800" text-anchor="middle" font-weight="500">预期浪1' 0.382 5022</text>
</g>
<g class="point" data-index="11">
  <circle cx="1116.3999999999999" cy="92.22503371589164" r="3.5" fill="#ff9800" stroke="#ff9800" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="1116.3999999999999" y="108.22503371589164" font-size="10" fill="#ff9800" text-anchor="middle" font-weight="500">预期浪1' 0.5 5006</text>
</g>
<g class="point" data-index="12">
  <circle cx="1160" cy="103.9620919207143" r="3.5" fill="#ff9800" stroke="#ff9800" stroke-width="1.5" opacity="0.9" style="cursor:pointer"/>
  <text x="1160" y="119.9620919207143" font-size="10" fill="#ff9800" text-anchor="middle" font-weight="500">预期浪3' 0.618 4990</text>
</g></g>
</svg>
</div>
<div id="data-panel">
  <div class="dp-item"><span class="dp-label">最高:</span><span class="dp-value">5092.31</span></div>
  <div class="dp-item"><span class="dp-label">最低:</span><span class="dp-value">4654.86</span></div>
  <div class="dp-item"><span class="dp-label">振幅:</span><span class="dp-value">437.45</span></div>
  <div class="dp-item"><span class="dp-label">浪1幅度:</span><span class="dp-value dp-down">-237.30</span></div>
  <div class="dp-item"><span class="dp-label">浪2幅度:</span><span class="dp-value dp-up">+168.80</span></div>
  <div class="dp-item"><span class="dp-label">浪3幅度:</span><span class="dp-value dp-down">-233.80</span></div>
  <div class="dp-item"><span class="dp-label">浪4幅度:</span><span class="dp-value dp-up">+153.66</span></div>
  <div class="dp-item"><span class="dp-label">浪5幅度:</span><span class="dp-value dp-down">-288.81</span></div>
  <div class="dp-item"><span class="dp-label">浪a幅度:</span><span class="dp-value dp-up">+248.29</span></div>
  <div class="dp-item"><span class="dp-label">浪b幅度:</span><span class="dp-value dp-up">+33.68</span></div>
  <div class="dp-item"><span class="dp-label">浪Y幅度:</span><span class="dp-value dp-up">+85.77</span></div>
  <div class="dp-item"><span class="dp-label">浪c幅度:</span><span class="dp-value dp-up">+52.36</span></div>
  <div class="dp-item"><span class="dp-label">预期浪1' 0.382幅度:</span><span class="dp-value dp-down">-52.77</span></div>
  <div class="dp-item"><span class="dp-label">预期浪1' 0.5幅度:</span><span class="dp-value dp-down">-16.30</span></div>
  <div class="dp-item"><span class="dp-label">预期浪3' 0.618幅度:</span><span class="dp-value dp-down">-16.30</span></div>
</div>
<script>
  const pts = [{"time":"2026/2/4 16:00:00","price":"5092.31","label":"起点"},{"time":"2026/2/5 00:00:00","price":"4855.01","label":"浪1"},{"time":"2026/2/5 07:00:00","price":"5023.81","label":"浪2"},{"time":"2026/2/5 11:00:00","price":"4790.01","label":"浪3"},{"time":"2026/2/5 16:00:00","price":"4943.67","label":"浪4"},{"time":"2026/2/6 08:00:00","price":"4654.86","label":"浪5"},{"time":"2026/2/6 14:00:00","price":"4903.15","label":"浪a"},{"time":"2026/2/7 04:00:00","price":"4936.83","label":"浪b"},{"time":"2026/2/9 11:35:16","price":"5022.60","label":"浪Y"},{"time":"2026/2/10 00:48:48","price":"5074.96","label":"浪c"},{"time":"2026/2/10 16:41:25","price":"5022.20","label":"预期浪1' 0.382"},{"time":"2026/2/10 16:41:25","price":"5005.90","label":"预期浪1' 0.5"},{"time":"2026/2/10 16:41:25","price":"4989.60","label":"预期浪3' 0.618"}];
  const chartData = [{"time":"2026/2/4 08:00:00","price":"5015.74","open":"4947.54","high":"5016.38","low":"4947.08","close":"5015.74"},{"time":"2026/2/4 09:00:00","price":"5046.52","open":"5016.31","high":"5053.32","low":"4987.73","close":"5046.52"},{"time":"2026/2/4 10:00:00","price":"5040.54","open":"5047.09","high":"5065.31","low":"5035.94","close":"5040.54"},{"time":"2026/2/4 11:00:00","price":"5069.77","open":"5040.92","high":"5073.38","low":"5036.44","close":"5069.77"},{"time":"2026/2/4 12:00:00","price":"5080.11","open":"5069.97","high":"5080.44","low":"5056.38","close":"5080.11"},{"time":"2026/2/4 13:00:00","price":"5079.48","open":"5080.42","high":"5090.08","low":"5069.62","close":"5079.48"},{"time":"2026/2/4 14:00:00","price":"5076.68","open":"5079.67","high":"5082.35","low":"5051.24","close":"5076.68"},{"time":"2026/2/4 15:00:00","price":"5084.78","open":"5076.71","high":"5091.39","low":"5062.36","close":"5084.78"},{"time":"2026/2/4 16:00:00","price":"5083.64","open":"5084.93","high":"5092.31","low":"5069.11","close":"5083.64"},{"time":"2026/2/4 17:00:00","price":"5059.95","open":"5082.93","high":"5086.53","low":"5042.95","close":"5059.95"},{"time":"2026/2/4 18:00:00","price":"5049.60","open":"5060.00","high":"5064.24","low":"5041.64","close":"5049.60"},{"time":"2026/2/4 19:00:00","price":"5047.66","open":"5049.25","high":"5054.70","low":"5014.67","close":"5047.66"},{"time":"2026/2/4 20:00:00","price":"5041.05","open":"5048.61","high":"5063.43","low":"5037.90","close":"5041.05"},{"time":"2026/2/4 21:00:00","price":"5053.76","open":"5039.60","high":"5063.66","low":"5023.53","close":"5053.76"},{"time":"2026/2/4 22:00:00","price":"4985.89","open":"5053.80","high":"5058.61","low":"4968.21","close":"4985.89"},{"time":"2026/2/4 23:00:00","price":"4921.21","open":"4985.49","high":"5007.74","low":"4887.92","close":"4921.21"},{"time":"2026/2/5 00:00:00","price":"4904.36","open":"4920.22","high":"4940.45","low":"4855.01","close":"4904.36"},{"time":"2026/2/5 01:00:00","price":"4898.39","open":"4904.23","high":"4930.17","low":"4888.33","close":"4898.39"},{"time":"2026/2/5 02:00:00","price":"4927.38","open":"4898.13","high":"4935.13","low":"4873.23","close":"4927.38"},{"time":"2026/2/5 03:00:00","price":"4941.87","open":"4926.93","high":"4958.27","low":"4915.37","close":"4941.87"},{"time":"2026/2/5 04:00:00","price":"4938.51","open":"4941.43","high":"4951.01","low":"4915.66","close":"4938.51"},{"time":"2026/2/5 05:00:00","price":"4964.31","open":"4939.52","high":"4970.70","low":"4937.67","close":"4964.31"},{"time":"2026/2/5 07:00:00","price":"5012.31","open":"4980.34","high":"5023.81","low":"4969.28","close":"5012.31"},{"time":"2026/2/5 08:00:00","price":"5007.31","open":"5013.65","high":"5020.95","low":"4997.47","close":"5007.31"},{"time":"2026/2/5 09:00:00","price":"4958.94","open":"5006.97","high":"5012.31","low":"4936.65","close":"4958.94"},{"time":"2026/2/5 10:00:00","price":"4810.59","open":"4958.46","high":"4961.73","low":"4806.46","close":"4810.59"},{"time":"2026/2/5 11:00:00","price":"4880.69","open":"4809.42","high":"4887.58","low":"4790.01","close":"4880.69"},{"time":"2026/2/5 12:00:00","price":"4864.04","open":"4880.33","high":"4891.19","low":"4863.67","close":"4864.04"},{"time":"2026/2/5 13:00:00","price":"4896.26","open":"4863.46","high":"4906.36","low":"4826.80","close":"4896.26"},{"time":"2026/2/5 14:00:00","price":"4920.73","open":"4896.75","high":"4933.88","low":"4877.10","close":"4920.73"},{"time":"2026/2/5 15:00:00","price":"4915.08","open":"4920.51","high":"4940.27","low":"4896.28","close":"4915.08"},{"time":"2026/2/5 16:00:00","price":"4912.63","open":"4915.06","high":"4943.67","low":"4901.19","close":"4912.63"},{"time":"2026/2/5 17:00:00","price":"4855.23","open":"4914.21","high":"4914.21","low":"4849.06","close":"4855.23"},{"time":"2026/2/5 18:00:00","price":"4876.58","open":"4855.05","high":"4886.72","low":"4848.00","close":"4876.58"},{"time":"2026/2/5 19:00:00","price":"4868.38","open":"4877.06","high":"4894.72","low":"4864.56","close":"4868.38"},{"time":"2026/2/5 20:00:00","price":"4854.20","open":"4864.18","high":"4878.12","low":"4810.94","close":"4854.20"},{"time":"2026/2/5 21:00:00","price":"4835.48","open":"4846.07","high":"4867.90","low":"4802.64","close":"4835.48"},{"time":"2026/2/5 22:00:00","price":"4847.17","open":"4834.34","high":"4870.01","low":"4805.76","close":"4847.17"},{"time":"2026/2/5 23:00:00","price":"4818.33","open":"4844.36","high":"4863.63","low":"4800.72","close":"4818.33"},{"time":"2026/2/6 00:00:00","price":"4888.81","open":"4817.36","high":"4906.75","low":"4812.50","close":"4888.81"},{"time":"2026/2/6 01:00:00","price":"4869.30","open":"4889.97","high":"4890.42","low":"4859.40","close":"4869.30"},{"time":"2026/2/6 02:00:00","price":"4858.09","open":"4870.15","high":"4875.47","low":"4851.38","close":"4858.09"},{"time":"2026/2/6 03:00:00","price":"4829.41","open":"4858.19","high":"4865.38","low":"4824.22","close":"4829.41"},{"time":"2026/2/6 04:00:00","price":"4812.09","open":"4830.44","high":"4843.31","low":"4793.07","close":"4812.09"},{"time":"2026/2/6 05:00:00","price":"4780.56","open":"4812.03","high":"4826.18","low":"4759.27","close":"4780.56"},{"time":"2026/2/6 07:00:00","price":"4702.87","open":"4761.72","high":"4780.89","low":"4702.21","close":"4702.87"},{"time":"2026/2/6 08:00:00","price":"4763.26","open":"4702.76","high":"4764.61","low":"4654.86","close":"4763.26"},{"time":"2026/2/6 09:00:00","price":"4773.58","open":"4763.08","high":"4784.21","low":"4693.98","close":"4773.58"},{"time":"2026/2/6 10:00:00","price":"4816.70","open":"4774.13","high":"4846.10","low":"4761.66","close":"4816.70"},{"time":"2026/2/6 11:00:00","price":"4824.42","open":"4816.46","high":"4839.44","low":"4801.28","close":"4824.42"},{"time":"2026/2/6 12:00:00","price":"4814.09","open":"4824.40","high":"4831.94","low":"4807.26","close":"4814.09"},{"time":"2026/2/6 13:00:00","price":"4897.77","open":"4813.98","high":"4897.85","low":"4807.92","close":"4897.77"},{"time":"2026/2/6 14:00:00","price":"4846.58","open":"4897.84","high":"4903.15","low":"4825.73","close":"4846.58"},{"time":"2026/2/6 15:00:00","price":"4840.62","open":"4846.11","high":"4861.89","low":"4838.99","close":"4840.62"},{"time":"2026/2/6 16:00:00","price":"4862.03","open":"4841.48","high":"4882.16","low":"4829.67","close":"4862.03"},{"time":"2026/2/6 17:00:00","price":"4866.39","open":"4861.58","high":"4872.81","low":"4839.78","close":"4866.39"},{"time":"2026/2/6 18:00:00","price":"4878.52","open":"4866.52","high":"4880.05","low":"4851.55","close":"4878.52"},{"time":"2026/2/6 19:00:00","price":"4887.84","open":"4878.49","high":"4896.10","low":"4864.00","close":"4887.84"},{"time":"2026/2/6 20:00:00","price":"4900.41","open":"4885.05","high":"4902.81","low":"4871.02","close":"4900.41"},{"time":"2026/2/6 21:00:00","price":"4928.91","open":"4900.02","high":"4938.08","low":"4897.72","close":"4928.91"},{"time":"2026/2/6 22:00:00","price":"4948.05","open":"4929.89","high":"4949.46","low":"4894.42","close":"4948.05"},{"time":"2026/2/6 23:00:00","price":"4943.45","open":"4947.19","high":"4964.14","low":"4928.95","close":"4943.45"},{"time":"2026/2/7 00:00:00","price":"4951.89","open":"4943.54","high":"4953.73","low":"4922.32","close":"4951.89"},{"time":"2026/2/7 01:00:00","price":"4960.51","open":"4951.85","high":"4967.92","low":"4948.27","close":"4960.51"},{"time":"2026/2/7 02:00:00","price":"4962.40","open":"4960.58","high":"4971.09","low":"4944.69","close":"4962.40"},{"time":"2026/2/7 03:00:00","price":"4957.58","open":"4962.45","high":"4963.10","low":"4948.97","close":"4957.58"},{"time":"2026/2/7 04:00:00","price":"4953.15","open":"4957.13","high":"4959.23","low":"4936.83","close":"4953.15"},{"time":"2026/2/7 05:00:00","price":"4966.22","open":"4954.67","high":"4969.01","low":"4946.67","close":"4966.22"},{"time":"2026/2/8 18:14:35","price":"4965.87","open":"4965.87","high":"4965.87","low":"4965.87","close":"4965.87"},{"time":"2026/2/8 18:45:43","price":"4965.87","open":"4965.87","high":"4965.87","low":"4965.87","close":"4965.87"},{"time":"2026/2/9 09:36:30","price":"4992.10","open":"4992.10","high":"4992.10","low":"4992.10","close":"4992.10"},{"time":"2026/2/9 10:35:15","price":"5003.13","open":"5003.13","high":"5003.13","low":"5003.13","close":"5003.13"},{"time":"2026/2/9 11:05:15","price":"5015.64","open":"5015.64","high":"5015.64","low":"5015.64","close":"5015.64"},{"time":"2026/2/9 11:35:16","price":"5022.60","open":"5022.60","high":"5022.60","low":"5022.60","close":"5022.60"},{"time":"2026/2/9 12:12:41","price":"5018.08","open":"5018.08","high":"5018.08","low":"5018.08","close":"5018.08"},{"time":"2026/2/9 12:42:56","price":"5016.80","open":"5016.80","high":"5016.80","low":"5016.80","close":"5016.80"},{"time":"2026/2/9 13:12:56","price":"5016.22","open":"5016.22","high":"5016.22","low":"5016.22","close":"5016.22"},{"time":"2026/2/9 13:43:18","price":"5037.70","open":"5037.70","high":"5037.70","low":"5037.70","close":"5037.70"},{"time":"2026/2/9 14:13:20","price":"5036.26","open":"5036.26","high":"5036.26","low":"5036.26","close":"5036.26"},{"time":"2026/2/9 14:43:20","price":"5030.81","open":"5030.81","high":"5030.81","low":"5030.81","close":"5030.81"},{"time":"2026/2/9 15:18:06","price":"5010.14","open":"5010.14","high":"5010.14","low":"5010.14","close":"5010.14"},{"time":"2026/2/9 15:48:24","price":"5005.40","open":"5005.40","high":"5005.40","low":"5005.40","close":"5005.40"},{"time":"2026/2/9 16:18:51","price":"5025.99","open":"5025.99","high":"5025.99","low":"5025.99","close":"5025.99"},{"time":"2026/2/10 00:48:48","price":"5074.96","open":"5074.96","high":"5074.96","low":"5074.96","close":"5074.96"},{"time":"2026/2/10 02:59:47","price":"5051.09","open":"5051.09","high":"5051.09","low":"5051.09","close":"5051.09"},{"time":"2026/2/10 09:43:09","price":"5027.58","open":"5027.58","high":"5027.58","low":"5027.58","close":"5027.58"},{"time":"2026/2/10 10:14:01","price":"5043.99","open":"5043.99","high":"5043.99","low":"5043.99","close":"5043.99"},{"time":"2026/2/10 10:45:05","price":"5049.98","open":"5049.98","high":"5049.98","low":"5049.98","close":"5049.98"},{"time":"2026/2/10 11:15:05","price":"5025.09","open":"5025.09","high":"5025.09","low":"5025.09","close":"5025.09"},{"time":"2026/2/10 11:45:05","price":"5023.53","open":"5023.53","high":"5023.53","low":"5023.53","close":"5023.53"},{"time":"2026/2/10 12:17:35","price":"5025.08","open":"5025.08","high":"5025.08","low":"5025.08","close":"5025.08"},{"time":"2026/2/10 12:53:54","price":"5030.63","open":"5030.63","high":"5030.63","low":"5030.63","close":"5030.63"},{"time":"2026/2/10 13:40:45","price":"5026.39","open":"5026.39","high":"5026.39","low":"5026.39","close":"5026.39"},{"time":"2026/2/10 14:11:16","price":"5038.87","open":"5038.87","high":"5038.87","low":"5038.87","close":"5038.87"},{"time":"2026/2/10 14:41:16","price":"5032.23","open":"5032.23","high":"5032.23","low":"5032.23","close":"5032.23"},{"time":"2026/2/10 15:11:16","price":"5029.60","open":"5029.60","high":"5029.60","low":"5029.60","close":"5029.60"},{"time":"2026/2/10 15:41:16","price":"5025.80","open":"5025.80","high":"5025.80","low":"5025.80","close":"5025.80"},{"time":"2026/2/10 16:11:24","price":"5035.48","open":"5035.48","high":"5035.48","low":"5035.48","close":"5035.48"},{"time":"2026/2/10 16:41:25","price":"5044.87","open":"5044.87","high":"5044.87","low":"5044.87","close":"5044.87"}];
  const PADDING = {"left":70,"right":40,"top":30,"bottom":55};
  const CHART_WIDTH = 1090;
  const CHART_HEIGHT = 315;
  const PRICE_MIN = 4654.86;
  const PRICE_MAX = 5092.31;
  const tooltip = document.getElementById('tooltip');
  const crosshairV = document.getElementById('crosshair-v');
  const crosshairH = document.getElementById('crosshair-h');
  const crosshairPriceTag = document.getElementById('crosshair-price-tag');
  const crosshairPriceBg = document.getElementById('crosshair-price-bg');
  const crosshairPriceText = document.getElementById('crosshair-price-text');
  const overlay = document.getElementById('chart-overlay');
  const svg = document.querySelector('svg');

  function toggleLayer(btn) {
    const el = document.getElementById(btn.dataset.layer);
    if (!el) return;
    const isActive = btn.classList.toggle('active');
    el.style.display = isActive ? '' : 'none';
  }

  const TOOLTIP_OFFSET = 14;
  function positionTooltipInViewport(x, y) {
    tooltip.style.left = (x + TOOLTIP_OFFSET) + 'px';
    tooltip.style.top = (y + TOOLTIP_OFFSET) + 'px';
    const rect = tooltip.getBoundingClientRect();
    let left = x + TOOLTIP_OFFSET, top = y + TOOLTIP_OFFSET;
    if (rect.right > window.innerWidth) left = x - rect.width - TOOLTIP_OFFSET;
    if (rect.bottom > window.innerHeight) top = y - rect.height - TOOLTIP_OFFSET;
    left = Math.max(8, Math.min(left, window.innerWidth - rect.width - 8));
    top = Math.max(8, Math.min(top, window.innerHeight - rect.height - 8));
    tooltip.style.left = left + 'px';
    tooltip.style.top = top + 'px';
  }

  function getMouseX(e) { const r = svg.getBoundingClientRect(); return (e.clientX - r.left) * (1200 / r.width); }
  function getMouseY(e) { const r = svg.getBoundingClientRect(); return (e.clientY - r.top) * (460 / r.height); }
  function yToPrice(y) { return PRICE_MAX - ((y - PADDING.top) / CHART_HEIGHT) * (PRICE_MAX - PRICE_MIN); }

  function showKlineTooltip(e) {
    const x = getMouseX(e);
    if (x < PADDING.left || x > PADDING.left + CHART_WIDTH) return;
    const t = (x - PADDING.left) / CHART_WIDTH;
    const idx = Math.round(t * (chartData.length - 1));
    const d = chartData[Math.min(idx, chartData.length - 1)];
    const o = parseFloat(d.open), h = parseFloat(d.high), l = parseFloat(d.low), c = parseFloat(d.close);
    const change = c - o, changePct = ((change / o) * 100).toFixed(2);
    const changeSign = change >= 0 ? '+' : '', changeClass = change >= 0 ? 'tt-up' : 'tt-down';
    let html = '<div class="tt-title">' + d.time + '</div>';
    html += '<div><span class="tt-label">开盘:</span> ' + d.open + '&nbsp;&nbsp;<span class="tt-label">收盘:</span> ' + d.close + '</div>';
    html += '<div><span class="tt-label">最高:</span> ' + d.high + '&nbsp;&nbsp;<span class="tt-label">最低:</span> ' + d.low + '</div>';
    html += '<div class="tt-divider"></div>';
    html += '<div><span class="tt-label">涨跌:</span> <span class="' + changeClass + '">' + changeSign + change.toFixed(2) + ' (' + changeSign + changePct + '%)</span></div>';
    html += '<div><span class="tt-label">振幅:</span> ' + (h - l).toFixed(2) + '</div>';
    tooltip.innerHTML = html;
    tooltip.style.display = 'block';
    positionTooltipInViewport(e.clientX, e.clientY);
    crosshairV.setAttribute('x1', x); crosshairV.setAttribute('x2', x); crosshairV.style.display = 'block';
    const y = getMouseY(e);
    crosshairH.setAttribute('y1', y); crosshairH.setAttribute('y2', y);
    crosshairH.setAttribute('x1', PADDING.left); crosshairH.setAttribute('x2', PADDING.left + CHART_WIDTH);
    crosshairH.style.display = 'block';
    if (y >= PADDING.top && y <= PADDING.top + CHART_HEIGHT) {
      crosshairPriceText.textContent = yToPrice(y).toFixed(0);
      crosshairPriceBg.setAttribute('x', 8); crosshairPriceBg.setAttribute('y', y - 9);
      crosshairPriceText.setAttribute('x', 56); crosshairPriceText.setAttribute('y', y);
      crosshairPriceTag.style.display = 'block';
    } else { crosshairPriceTag.style.display = 'none'; }
  }

  overlay.addEventListener('mouseenter', showKlineTooltip);
  overlay.addEventListener('mousemove', showKlineTooltip);
  overlay.addEventListener('mouseleave', function() {
    tooltip.style.display = 'none'; crosshairV.style.display = 'none'; crosshairH.style.display = 'none'; crosshairPriceTag.style.display = 'none';
  });

  document.querySelectorAll('.point').forEach((g, i) => {
    g.addEventListener('mouseenter', function(e) {
      const p = pts[i]; let html = '<div class="tt-title">' + p.label + '</div>';
      html += '<div><span class="tt-label">时间:</span> ' + p.time + '</div>';
      html += '<div><span class="tt-label">价格:</span> ' + p.price + '</div>';
      if (i > 0) {
        const diff = parseFloat(p.price) - parseFloat(pts[i-1].price);
        const sign = diff >= 0 ? '+' : '', cls = diff >= 0 ? 'tt-up' : 'tt-down';
        html += '<div class="tt-divider"></div><div><span class="tt-label">距' + pts[i-1].label + ':</span> <span class="' + cls + '">' + sign + diff.toFixed(2) + '</span></div>';
      }
      tooltip.innerHTML = html; tooltip.style.display = 'block';
      positionTooltipInViewport(e.clientX, e.clientY);
      crosshairV.style.display = 'none'; crosshairH.style.display = 'none'; crosshairPriceTag.style.display = 'none';
    });
    g.addEventListener('mouseleave', function() { tooltip.style.display = 'none'; });
    g.addEventListener('mousemove', function(e) { positionTooltipInViewport(e.clientX, e.clientY); });
  });
</script>
</body>
</html>